
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An experimental package manager for distributing Kubernetes configuration as OCI artifacts.
">
      
      
        <meta name="author" content="Stefan Prodan">
      
      
        <link rel="canonical" href="https://kustomizer.dev/">
      
      
      
        <link rel="next" href="get-started/">
      
      <link rel="icon" href="images/favicon-round.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>kustomizer</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<meta property="og:url" content="https://kustomizer.dev/">

<meta property="og:title" content="kustomizer">

<meta property="og:description" content="An experimental package manager for distributing Kubernetes configuration as OCI artifacts.
">
<meta property="og:image" content="https://kustomizer.dev/images/card.png">
<meta property="og:image:alt" content="kustomizer.dev">
<meta property="og:image:type" content="image/png">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stefanprodan">
<meta name="twitter:creator" content="@stefanprodan">

<meta property="twitter:title" content="kustomizer">

<meta name="twitter:description" content="An experimental package manager for distributing Kubernetes configuration as OCI artifacts.
">
<meta name="twitter:image" content="https://kustomizer.dev/images/favicon-square.png">
<meta name="twitter:image:alt" content="kustomizer.dev">


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kustomizer" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="kustomizer" class="md-header__button md-logo" aria-label="kustomizer" data-md-component="logo">
      
  <img src="images/favicon-round.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            kustomizer
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/stefanprodan/kustomizer" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    stefanprodan/kustomizer
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="kustomizer" class="md-nav__button md-logo" aria-label="kustomizer" data-md-component="logo">
      
  <img src="images/favicon-round.png" alt="logo">

    </a>
    kustomizer
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/stefanprodan/kustomizer" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    stefanprodan/kustomizer
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Introduction
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oci-artifacts" class="md-nav__link">
    OCI Artifacts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sign-verify-artifacts" class="md-nav__link">
    Sign &amp; Verify Artifacts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-inventories" class="md-nav__link">
    Resource Inventories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption-at-rest" class="md-nav__link">
    Encryption at rest
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-with-other-tools" class="md-nav__link">
    Comparison with other tools
  </a>
  
    <nav class="md-nav" aria-label="Comparison with other tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vs-flux" class="md-nav__link">
    vs flux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vs-kubectl" class="md-nav__link">
    vs kubectl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vs-kustomize" class="md-nav__link">
    vs kustomize
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="get-started/" class="md-nav__link">
        Get Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="install/" class="md-nav__link">
        Install
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="github-actions/" class="md-nav__link">
        GitHub Actions
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="guides/secure-supply-chain/" class="md-nav__link">
        Secure your Kubernetes supply chain with Kustomizer and Cosign
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="guides/artifacts-encryption/" class="md-nav__link">
        Encryption at rest with Kustomizer and Age
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="guides/deploy-from-git/" class="md-nav__link">
        Deploy applications from Git with Kustomizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="guides/fluxcd/" class="md-nav__link">
        Continuous deployment with Kustomizer and Flux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" tabindex="0" aria-expanded="false">
          Command Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Command Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Command Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" >
      
      
      
        <label class="md-nav__link" for="__nav_6_1" tabindex="0" aria-expanded="false">
          Artifact
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Artifact" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Artifact
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_push_artifact/" class="md-nav__link">
        Push
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_tag_artifact/" class="md-nav__link">
        Tag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_pull_artifact/" class="md-nav__link">
        Pull
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_diff_artifact/" class="md-nav__link">
        Diff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_inspect_artifact/" class="md-nav__link">
        Inspect
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
        <label class="md-nav__link" for="__nav_6_2" tabindex="0" aria-expanded="false">
          Inventory
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Inventory" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Inventory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_apply_inventory/" class="md-nav__link">
        Apply
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_build_inventory/" class="md-nav__link">
        Build
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_diff_inventory/" class="md-nav__link">
        Diff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_inspect_inventory/" class="md-nav__link">
        Inspect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_get_inventory/" class="md-nav__link">
        Get
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_delete_inventory/" class="md-nav__link">
        Delete
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
        <label class="md-nav__link" for="__nav_6_3" tabindex="0" aria-expanded="false">
          Config
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Config" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Config
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_config_init/" class="md-nav__link">
        Init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_config_view/" class="md-nav__link">
        View
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" >
      
      
      
        <label class="md-nav__link" for="__nav_6_4" tabindex="0" aria-expanded="false">
          Completion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Completion" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Completion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_completion_bash/" class="md-nav__link">
        Bash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_completion_fish/" class="md-nav__link">
        Fish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_completion_powershell/" class="md-nav__link">
        Powershell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cmd/kustomizer_completion_zsh/" class="md-nav__link">
        ZSH
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oci-artifacts" class="md-nav__link">
    OCI Artifacts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sign-verify-artifacts" class="md-nav__link">
    Sign &amp; Verify Artifacts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-inventories" class="md-nav__link">
    Resource Inventories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption-at-rest" class="md-nav__link">
    Encryption at rest
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-with-other-tools" class="md-nav__link">
    Comparison with other tools
  </a>
  
    <nav class="md-nav" aria-label="Comparison with other tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vs-flux" class="md-nav__link">
    vs flux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vs-kubectl" class="md-nav__link">
    vs kubectl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vs-kustomize" class="md-nav__link">
    vs kustomize
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="kustomizer">Kustomizer</h1>
<p>Kustomizer is an experimental package manager for distributing Kubernetes configuration as OCI artifacts.
It offers commands to publish, fetch, diff, customize, validate, apply and prune Kubernetes resources.</p>
<h2 id="concepts">Concepts</h2>
<h3 id="oci-artifacts">OCI Artifacts</h3>
<p>Kustomizer offers a way to distribute Kubernetes configuration using container registries.
It can package Kubernetes manifests in an OCI image and store them in a container registry,
right next to your applications' images.</p>
<p>Kustomizer comes with commands for managing OCI artifacts:</p>
<ul>
<li><code>kustomizer push artifact oci://&lt;image-url&gt;:&lt;tag&gt; -k [-f] [-p]</code></li>
<li><code>kustomizer tag artifact oci://&lt;image-url&gt;:&lt;tag&gt; &lt;new-tag&gt;</code></li>
<li><code>kustomizer list artifacts oci://&lt;repo-url&gt; --semver &lt;condition&gt;</code></li>
<li><code>kustomizer pull artifact oci://&lt;image-url&gt;:&lt;tag&gt;</code></li>
<li><code>kustomizer inspect artifact oci://&lt;image-url&gt;:&lt;tag&gt;</code></li>
<li><code>kustomizer diff artifact &lt;oci url&gt; &lt;oci url&gt;</code></li>
</ul>
<p>Kustomizer is compatible with Docker Hub, GHCR, ACR, ECR, GCR, Artifactory,
self-hosted Docker Registry and others. For auth, it uses the credentials from <code>~/.docker/config.json</code>.</p>
<p>Assuming you've automated your application's build &amp; push workflow using Docker,
you can extend the automation to do the same for your Kubernetes configuration
that describes how your application gets deployed.</p>
<h3 id="sign-verify-artifacts">Sign &amp; Verify Artifacts</h3>
<p>Kustomizer can sign and verify artifacts using <a href="https://github.com/sigstore/cosign">sigstore/cosign</a> either with
static keys, Cloud KMS or keyless signatures (when running kustomizer with GitHub Actions):</p>
<ul>
<li><code>kustomizer push artifact --sign --cosign-key &lt;private key&gt;</code></li>
<li><code>kustomizer pull artifact --verify --cosign-key &lt;public key&gt;</code></li>
<li><code>kustomizer inspect artifact --verify --cosign-key &lt;public key&gt;</code></li>
</ul>
<p>For an example on how to secure your Kubernetes supply chain with Kustomizer and Cosign
please see <a href="guides/secure-supply-chain/">this guide</a>.</p>
<h3 id="resource-inventories">Resource Inventories</h3>
<p>Kustomizer offers a way for grouping Kubernetes resources.
It generates an inventory which keeps track of the set of resources applied together.
The inventory is stored inside the cluster in a <code>ConfigMap</code> object and contains metadata
such as the resources provenance and revision.</p>
<p>The Kustomizer garbage collector uses the inventory to keep track of the applied resources
and prunes the Kubernetes objects that were previously applied but are missing from the current revision.</p>
<p>You specify an inventory name and namespace at apply time, and then you can use Kustomizer to
list, diff, update, and delete inventories:</p>
<ul>
<li><code>kustomizer apply inventory &lt;name&gt; [--artifact &lt;oci url&gt;] [-f] [-p] -k</code></li>
<li><code>kustomizer diff inventory &lt;name&gt; [-a] [-f] [-p] -k</code></li>
<li><code>kustomizer get inventories --namespace &lt;namespace&gt;</code></li>
<li><code>kustomizer inspect inventory &lt;name&gt; --namespace &lt;namespace&gt;</code></li>
<li><code>kustomizer delete inventory &lt;name&gt; --namespace &lt;namespace&gt;</code></li>
</ul>
<p>When applying resources from OCI artifacts, Kustomizer saves the artifacts URL and
the image SHA-2 digest in the inventory. For deterministic and repeatable apply operations,
you could use digests instead of tags.</p>
<h3 id="encryption-at-rest">Encryption at rest</h3>
<p>Kustomizer has builtin support for encrypting and decrypting Kubernetes configuration (packaged as OCI artifacts)
using <a href="https://github.com/FiloSottile/age">age</a> asymmetric keys.</p>
<p>To securely distribute sensitive Kubernetes configuration to trusted users,
you can encrypt the artifacts with their age public keys:</p>
<ul>
<li><code>kustomizer push artifact &lt;oci url&gt; --age-recipients &lt;public keys&gt;</code></li>
</ul>
<p>Users can access the artifacts by decrypting them with their age private keys:</p>
<ul>
<li><code>kustomizer inspect artifact &lt;oci url&gt; --age-identities &lt;private keys&gt;</code></li>
<li><code>kustomizer pull artifact &lt;oci url&gt; --age-identities &lt;private keys&gt;</code></li>
<li><code>kustomizer apply inventory -a &lt;oci url&gt; --age-identities &lt;private keys&gt;</code></li>
<li><code>kustomizer diff inventory -a &lt;oci url&gt; --age-identities &lt;private keys&gt;</code></li>
</ul>
<h2 id="comparison-with-other-tools">Comparison with other tools</h2>
<h3 id="vs-flux">vs flux</h3>
<p>Kustomizer produces OCI artifacts which are compatible with <a href="https://fluxcd.io">Flux</a>.
For more details on how to continuously deploy applications to Kubernetes clusters
with Flux and Kustomizer please see this <a href="guides/fluxcd/">guide</a>.</p>
<p>Kustomizer is akin to Flux's <a href="https://github.com/fluxcd/kustomize-controller">kustomize-controller</a>, and it shares
the same reconcile engine that leverages Kubernetes server-side apply.</p>
<p>Kustomizer can be used as intermediary step when migrating from CI driven deployments
to <a href="https://fluxcd.io/">Flux</a> and GitOps. If you're running <code>kubectl apply</code> in your CI pipelines,
replacing kubectl with kustomizer, would smooth the transition to a continuous delivery system powered by Flux.</p>
<p>At times, Kustomizer serves as a testing bench for experimental features that are proposed to the Flux community.
For example, Kustomizer is the project where features like staged-apply, garbage collection and diffing were first introduced.</p>
<h3 id="vs-kubectl">vs kubectl</h3>
<p>Kustomizer makes use of <a href="https://pkg.go.dev/k8s.io/cli-runtime">k8s.io/cli-runtime</a>
for loading kubeconfigs and enables users to configure access to Kubernetes clusters
in the same way as with kubectl.</p>
<p>Compared to <code>kubectl apply -f</code>, <code>kustomizer apply -f</code> does things a little different:</p>
<ul>
<li>Validates all resources with dry-run apply, and applies only the ones with changes.</li>
<li>Applies first custom resource definitions (CRDs) and namespaces, waits for them to register and only then applies the custom resources.</li>
<li>Waits for the applied resources to be fully reconciled (checks the ready status of replicasets, services, ingresses, and other custom resources).</li>
<li>Deletes stale objects like ConfigMaps and Secrets generated with Kustomize or other tools.</li>
</ul>
<div class="admonition warn">
<p class="admonition-title">Warn</p>
<p>Note that if you use kubectl to edit an object managed by Kustomizer,
all changes will be undone when Kustomizer reconciles an inventory containing that object.
In addition, Kustomizer removes the <code>last-applied-configuration</code> annotation set by <code>kubectl apply</code>.</p>
</div>
<h3 id="vs-kustomize">vs kustomize</h3>
<p>Kustomizer uses the <a href="https://pkg.go.dev/sigs.k8s.io/kustomize/api">sigs.k8s.io/kustomize</a>
Go packages to patch Kubernetes manifests and is compatible with <code>kustomize.config.k8s.io/v1beta1</code> overlays.</p>
<p>Compared to <code>kustomize build</code>, <code>kustomizer build -k</code> does things a little different:</p>
<ul>
<li>Pulls resources from container registries.</li>
<li>Reorders the resources according to the provided configuration.</li>
<li>Allows <code>kustomization.yaml</code> to load files from outside their root directory.</li>
<li>Disallows the usage of Kustomize exec and container-based plugins.</li>
<li>Extra patches can be specified with <code>kustomizer build -k ./overlay --patch ./patch1.yaml --patch ./patch2.yaml</code>.</li>
</ul>
<h2 id="license">License</h2>
<p>Kustomizer is <a href="https://github.com/stefanprodan/kustomizer/blob/main/LICENSE">Apache 2.0 licensed</a>
and accepts contributions via GitHub pull requests.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.sections"], "search": "assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>